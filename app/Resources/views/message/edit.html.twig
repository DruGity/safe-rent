{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <h1>Редактирование сообщения пользователю {{ user.name }}</h1>
        <div>
            {% for flash_message in app.session.flashBag.get('error') %}
                <b style="color: red">Ошибка при заполнении!</b> {{ flash_message }}<br>
            {% endfor %}
        </div>


        <div class="form-horizontal">

            {{ form_start(edit_form, { 'action': path('message_new', {idUser:user.getId()}), 'method': 'POST' }) }}
            {{ form_errors(edit_form) }}
            <div class="form-group col-sm-8">
                {{ form_row(edit_form.title, {  'attr': {'class': 'form-control ','placeholder':"Text input"}}) }}
            </div>
            <div class="form-group col-sm-8">
                {{ form_row(edit_form.message,{'attr': {'class': 'form-control '}}) }}
            </div>

            <div class="col-sm-5">
                <input type="submit" class="btn btn-info" value="Создать" />
            </div>
            {{ form_rest(edit_form) }}
        </div>
        <br />
        <div class="col-sm-12" style="margin-bottom: 100px ; margin-top: 20px">
            <a href="{{ path('message_index') }}">Back to the list</a>
        </div>
    </div>

{% endblock %}
